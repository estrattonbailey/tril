!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.tril=r()}(this,function(){function e(r){return new Proxy(r||{},{get:function(r,t){return r[t]||e({items:[]})}})}return function(r){for(var t={},n=[];r.length;){var f=r.pop();for(var o in f.facets){t[o]=t[o]||[];for(var i=0,u=f.facets[o];i<u.length;i+=1){var a=u[i];t[o].indexOf(a)<0&&t[o].push(a)}}n.push(f)}return e(function r(t,n,f){var o={},i=function(i){o[i]={get:function(){f+=i+"=";for(var o={},u=function(){var e=c[a];o[e]={get:function(){f+=e+",";var o={};for(var u in t)i!==u&&(o[u]=t[u]);return r(o,n,f)}}},a=0,c=t[i];a<c.length;a+=1)u();return e(Object.create({},o))}}};for(var u in t)i(u);return e(Object.create({get items(){for(var e=0,r={},t=0,o=f.split(",");t<o.length;t+=1){var i=o[t];if(i){var u=i.split("=");r[u[0]]=u[1],e++}}for(var a=[],c=0,v=n;c<v.length;c+=1){var s=v[c],p=0;for(var d in s.facets)r[d]&&(s.facets[d].indexOf(r[d])>-1&&p++,p===e&&a.push(s))}return a}},o))}(t,n,""))}});
//# sourceMappingURL=tril.umd.js.map
